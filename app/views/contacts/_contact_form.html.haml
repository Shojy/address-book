= simple_form_for @contact, html: {multipart: true} do |f|
  - if @contact.errors.any?
    %p
      = @contact.errors.count
      prevented this contact being saved
    %ul
      - @contact.errors.full_messages.each do |msg|
        %li= msg
  
  .panel-body
    = f.input :first_name, input_html: { class: 'form-control' }
    = f.input :last_name, input_html: { class: 'form-control' }
    = f.input :email, input_html: { class: 'form-control' }

    #additional-fields
      = f.simple_fields_for :details do |detail|
        = render 'detail_fields', f: detail
      = link_to_add_association 'add detail', f, :details, class: "btn btn-sm btn-default" 

  %p= f.button :submit, class: 'btn btn-primary'